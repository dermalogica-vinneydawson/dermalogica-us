
Create a dynamic, interactive product recommendation experience for a Shopify Plus store. This experience will help users find the right product through a 3-step quiz within a modal that can be triggered from any of the following collection pages: https://www.dermalogica.com/collections/cleansers, https://www.dermalogica.com/collections/exfoliants, https://www.dermalogica.com/collections/moisturizers, https://www.dermalogica.com/collections/masques, https://www.dermalogica.com/collections/toners, https://www.dermalogica.com/collections/facial-oils-and-serums, https://www.dermalogica.com/collections/targeted-treatments, https://www.dermalogica.com/collections/eye-treatments, https://www.dermalogica.com/collections/body, https://www.dermalogica.com/collections/spf. The modal should dynamically scrape all existing products on the page, including their images, product titles, sizes, and prices. Based on the user's responses to the quiz, it will recommend the most suitable product. Users can choose the product size from a dropdown, and an 'Add to Cart' button will allow them to add the product without leaving the page. The design of the modal and buttons should follow specific styling guidelines, and the functionality should be implemented in a way that is fully compatible with the Shopify Plus environment. Replit should also code the Shopify Schema, enabling all parameters (e.g., modal styles, quiz questions, button placement, and behavior) to be adjustable from the Shopify Theme Customizer. This will allow for easy modifications and adjustments to the experience directly from the Shopify admin panel without editing the code. The 'Find Your Perfect Product' button should be dynamic and able to be placed in any container on the collection pages, and should trigger a modal that is centered on the screen with a white background, no border radius, and a shadow effect, with a background overlay to indicate that a modal has popped up. The modal should have a close icon (24x24 pixels, #5B6670 color) at the top right to exit the experience and include a progress indicator to show the current quiz step and allow navigation back to change answers. Follow the specified font and color guidelines: use Helvetica for all fonts, #5B6670 for heading and paragraph text color, bold font for titles, light font-weight for supporting text, uppercase with 1.4px letter spacing for all buttons, transparent answer buttons with a solid border stroke of 1px and color #5B6670, and an 'ADD TO CART' button with a #5E93DB background, white text, bold, uppercase, and 1.4px letter spacing. The experience should dynamically scrape product details (images, titles, sizes, prices) using JavaScript when the modal is triggered. Implement a 3-step quiz within the modal, storing user responses to determine the best product recommendation based on these responses, defaulting to the retail size but allowing users to select different sizes via a dropdown menu. The 'Add to Cart' functionality should add the selected product to the cart without navigating away from the page and automatically close the modal after the product is added. Replit should code the Shopify Schema to enable all parameters of the experience (modal styles, quiz questions, button placement, behavior, etc.) to be adjustable from the Shopify Theme Customizer, including schema settings for modal background color, font styles, button colors, text content for quiz questions and answers, button placement and behavior settings, product size options and default selections, and enabling/disabling the experience per collection page. Ensure that all code is written in a way that can be easily integrated into a Shopify Plus environment, and provide the necessary HTML, CSS, JavaScript, and JSON files for the Shopify Schema that can be copied and pasted into the Shopify theme files. The required files include an HTML file for the modal structure, a CSS file for the styling of the modal, buttons, and other UI elements, a JavaScript file for handling the modal's behavior, product scraping, quiz logic, and 'Add to Cart' functionality, and a JSON file for the Shopify Schema settings to be used in the Shopify Theme Customizer. By using this prompt, Replit should be able to generate a codebase that includes the HTML structure, CSS styling, JavaScript logic, and Shopify Schema needed to implement the described experience on Shopify Plus. The code should be clean, well-commented, and modular, allowing easy customization and integration.
