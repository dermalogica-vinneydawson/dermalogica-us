<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Your Personalized Routine — Dermalogica</title>

  <!-- Design-system tokens -->
  <link rel="stylesheet" href="globals.css" />

  <!-- Tailwind CDN (play mode — configure arbitrary CSS-var support) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["'Helvetica LT Pro'", "'Inter'", '-apple-system', 'BlinkMacSystemFont', '"Segoe UI"', 'Roboto', 'sans-serif'],
          },
          fontSize: {
            xs:   '12px',
            sm:   '14px',
            base: '16px',
            lg:   '20px',
            xl:   '24px',
            '2xl':'32px',
            '3xl':'60px',
          },
          fontWeight: {
            light:  '300',
            normal: '400',
            bold:   '700',
          },
          borderRadius: {
            DEFAULT: '3px',
            sm:  '2px',
            md:  '3px',
            lg:  '6px',
            xl:  '8px',
            full:'9999px',
          },
          boxShadow: {
            sm: '0px 1px 2px 0px rgba(10,13,18,0.05)',
            md: '0px 4px 6px -1px rgba(10,13,18,0.08), 0px 2px 4px -2px rgba(10,13,18,0.04)',
            lg: '0px 10px 15px -3px rgba(10,13,18,0.08), 0px 4px 6px -4px rgba(10,13,18,0.04)',
          },
        },
      },
    };
  </script>

  <!-- Component styles (references CSS variables via Tailwind arbitrary values) -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="animated-gradient-bg min-h-screen font-sans text-[--foreground]">

  <!-- ============================  HEADER  ============================ -->
  <header class="sticky top-0 z-50 bg-[--background] border-b border-[--border] shadow-sm">
    <div class="max-w-[1280px] mx-auto flex items-center justify-between px-[--space-6] py-[--space-3]">
      <!-- Logo -->
      <a href="#" class="flex items-center gap-[--space-2]" aria-label="Dermalogica home">
        <svg width="160" height="20" viewBox="0 0 160 20" fill="none" aria-hidden="true">
          <text x="0" y="16" font-family="'Helvetica LT Pro', sans-serif" font-size="16" font-weight="700"
                fill="var(--primary)" letter-spacing="0.12em">DERMALOGICA</text>
        </svg>
      </a>

      <!-- Desktop Nav -->
      <nav class="hidden md:flex items-center gap-[--space-8]" aria-label="Main navigation">
        <a href="#" class="text-sm font-normal text-[--muted-foreground] hover:text-[--foreground] transition-colors duration-[250ms]">Shop</a>
        <a href="#" class="text-sm font-normal text-[--muted-foreground] hover:text-[--foreground] transition-colors duration-[250ms]">Skin Concerns</a>
        <a href="#" class="text-sm font-normal text-[--muted-foreground] hover:text-[--foreground] transition-colors duration-[250ms]">Professional</a>
        <a href="#" class="text-sm font-normal text-[--muted-foreground] hover:text-[--foreground] transition-colors duration-[250ms]">About</a>
      </nav>

      <!-- Right actions -->
      <div class="flex items-center gap-[--space-4]">
        <!-- User -->
        <div class="hidden sm:flex items-center gap-[--space-2]">
          <div class="w-[32px] h-[32px] rounded-full bg-[--primary] flex items-center justify-center text-xs font-bold text-[--primary-foreground]">C</div>
          <span class="text-sm font-normal text-[--foreground]">Courtney</span>
        </div>
        <!-- Cart icon -->
        <button class="relative p-[--space-1]" aria-label="Shopping bag">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="1.5">
            <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/>
            <line x1="3" y1="6" x2="21" y2="6"/>
            <path d="M16 10a4 4 0 01-8 0"/>
          </svg>
          <span id="cart-count" class="hidden absolute -top-1 -right-1 w-[18px] h-[18px] rounded-full bg-[--primary] text-[10px] font-bold text-[--primary-foreground] flex items-center justify-center">0</span>
        </button>
        <!-- Mobile menu -->
        <button class="md:hidden p-[--space-1]" aria-label="Menu" id="mobile-menu-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--primary)" stroke-width="1.5">
            <line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile nav drawer -->
    <nav id="mobile-nav" class="md:hidden hidden border-t border-[--border] bg-[--background] px-[--space-6] py-[--space-4] flex flex-col gap-[--space-4]" aria-label="Mobile navigation">
      <a href="#" class="text-sm font-normal text-[--muted-foreground]">Shop</a>
      <a href="#" class="text-sm font-normal text-[--muted-foreground]">Skin Concerns</a>
      <a href="#" class="text-sm font-normal text-[--muted-foreground]">Professional</a>
      <a href="#" class="text-sm font-normal text-[--muted-foreground]">About</a>
    </nav>
  </header>

  <!-- ============================  HERO  ============================ -->
  <section class="py-[--space-12] md:py-[--space-16] text-center px-[--space-6]">
    <p class="text-xs font-normal tracking-[0.12em] uppercase text-[--muted-foreground] mb-[--space-2]">Personalized Skincare</p>
    <h1 class="text-2xl md:text-3xl font-bold text-[--heading] mb-[--space-3] leading-tight">
      Your Personalized Routine, Courtney
    </h1>
    <p class="text-sm md:text-base font-light text-[--muted-foreground] max-w-[560px] mx-auto">
      Based on your skin analysis, we've curated routines tailored to your unique skin profile. Choose the level that fits your lifestyle.
    </p>
  </section>

  <!-- ============================  MAIN CONTENT  ============================ -->
  <main class="max-w-[1280px] mx-auto px-[--space-6] pb-[--space-20]">

    <!-- ──────────  SKIN ANALYSIS SUMMARY  ────────── -->
    <section class="mb-[--space-10] bg-[--card] rounded border border-[--border] shadow-sm overflow-hidden" aria-label="Skin analysis summary">
      <div class="bg-[--card-header] px-[--space-6] py-[--space-4] border-b border-[--border]">
        <h2 class="text-lg font-bold text-[--heading]">Your Skin Analysis</h2>
      </div>
      <div class="px-[--space-6] py-[--space-6]">
        <!-- Top row: type + concerns -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-[--space-6] mb-[--space-6]">
          <!-- Skin Type -->
          <div>
            <h3 class="text-xs font-bold uppercase tracking-[0.08em] text-[--muted-foreground] mb-[--space-2]">Skin Type</h3>
            <p class="text-base font-normal text-[--foreground]">Combination — Oily T-zone with normal to dry cheeks</p>
          </div>
          <!-- Concerns -->
          <div>
            <h3 class="text-xs font-bold uppercase tracking-[0.08em] text-[--muted-foreground] mb-[--space-2]">Concerns</h3>
            <div class="flex flex-wrap gap-[--space-2]">
              <span class="inline-flex items-center px-[--space-3] py-[--space-1] rounded-full bg-[--badge-bg] text-xs font-normal text-[--badge-text]">Uneven Tone</span>
              <span class="inline-flex items-center px-[--space-3] py-[--space-1] rounded-full bg-[--badge-bg] text-xs font-normal text-[--badge-text]">Fine Lines</span>
              <span class="inline-flex items-center px-[--space-3] py-[--space-1] rounded-full bg-[--badge-bg] text-xs font-normal text-[--badge-text]">Breakouts</span>
              <span class="inline-flex items-center px-[--space-3] py-[--space-1] rounded-full bg-[--badge-bg] text-xs font-normal text-[--badge-text]">Dehydration</span>
            </div>
          </div>
        </div>
        <!-- Full-width Goals -->
        <div class="border-t border-[--border] pt-[--space-6]">
          <h3 class="text-xs font-bold uppercase tracking-[0.08em] text-[--muted-foreground] mb-[--space-2]">Goals</h3>
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-[--space-4]">
            <div class="flex items-start gap-[--space-2]">
              <svg class="mt-0.5 flex-shrink-0" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="var(--success)" stroke-width="1.5"/>
                <path d="M5 8l2 2 4-4" stroke="var(--success)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="text-sm font-light text-[--foreground]">Brighten &amp; even skin tone</span>
            </div>
            <div class="flex items-start gap-[--space-2]">
              <svg class="mt-0.5 flex-shrink-0" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="var(--success)" stroke-width="1.5"/>
                <path d="M5 8l2 2 4-4" stroke="var(--success)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="text-sm font-light text-[--foreground]">Reduce fine lines &amp; wrinkles</span>
            </div>
            <div class="flex items-start gap-[--space-2]">
              <svg class="mt-0.5 flex-shrink-0" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="var(--success)" stroke-width="1.5"/>
                <path d="M5 8l2 2 4-4" stroke="var(--success)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="text-sm font-light text-[--foreground]">Control breakouts</span>
            </div>
            <div class="flex items-start gap-[--space-2]">
              <svg class="mt-0.5 flex-shrink-0" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="var(--success)" stroke-width="1.5"/>
                <path d="M5 8l2 2 4-4" stroke="var(--success)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span class="text-sm font-light text-[--foreground]">Boost hydration levels</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ──────────  ROUTINE TABS  ────────── -->
    <section class="mb-[--space-16]" aria-label="Skincare routines">
      <!-- Tab strip -->
      <div class="flex flex-col sm:flex-row gap-[--space-2] mb-[--space-8]" role="tablist" aria-label="Routine levels">
        <button role="tab" aria-selected="true" aria-controls="panel-essential" id="tab-essential"
                class="routine-tab routine-tab--active flex-1 flex items-center justify-center gap-[--space-2] px-[--space-6] py-[--space-3] rounded text-sm font-bold transition-all duration-[250ms]">
          <span>Essential</span>
          <span class="routine-tab-count">4 Products</span>
        </button>
        <button role="tab" aria-selected="false" aria-controls="panel-enhanced" id="tab-enhanced"
                class="routine-tab flex-1 flex items-center justify-center gap-[--space-2] px-[--space-6] py-[--space-3] rounded text-sm font-bold transition-all duration-[250ms]">
          <span>Enhanced</span>
          <span class="routine-tab-count">6 Products</span>
        </button>
        <button role="tab" aria-selected="false" aria-controls="panel-comprehensive" id="tab-comprehensive"
                class="routine-tab flex-1 flex items-center justify-center gap-[--space-2] px-[--space-6] py-[--space-3] rounded text-sm font-bold transition-all duration-[250ms]">
          <span>Comprehensive</span>
          <span class="routine-tab-count">8 Products</span>
        </button>
      </div>

      <!-- ═══════  ESSENTIAL PANEL  ═══════ -->
      <div role="tabpanel" id="panel-essential" aria-labelledby="tab-essential" class="routine-panel">

        <!-- STEP: Cleanse -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">1</div>
            <h3 class="text-lg font-bold text-[--heading]">Cleanse</h3>
            <button class="tooltip-trigger" aria-label="About the Cleanse step" data-tooltip="Cleansing removes impurities, excess oil and makeup to prep skin for treatment products.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <!-- Separator + product count badge -->
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <!-- Product cards -->
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <!-- Card -->
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/special-cleansing-gel_600x600.jpg?v=1700067037" alt="Special Cleansing Gel" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Special Cleansing Gel</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="A soap-free, foaming gel cleanser that lathers away toxins without disturbing the skin's natural moisture balance.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Soap-free foaming gel cleanser removes impurities without disturbing skin's natural moisture balance.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$46.00</span>
                  <button class="add-to-bag-btn" data-product="special-cleansing-gel" data-price="46.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Treat -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">2</div>
            <h3 class="text-lg font-bold text-[--heading]">Treat</h3>
            <button class="tooltip-trigger" aria-label="About the Treat step" data-tooltip="Targeted serums and treatments address specific skin concerns like fine lines, dark spots, and breakouts.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/biolumin-c-serum_600x600.jpg?v=1700067037" alt="BioLumin-C Serum" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">BioLumin-C Serum</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="A highly bioavailable Vitamin C serum that delivers dramatically brighter, firmer skin.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Highly bioavailable Vitamin C serum delivers dramatically brighter, firmer skin.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$96.00</span>
                  <button class="add-to-bag-btn" data-product="biolumin-c-serum" data-price="96.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Moisturize -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">3</div>
            <h3 class="text-lg font-bold text-[--heading]">Moisturize</h3>
            <button class="tooltip-trigger" aria-label="About the Moisturize step" data-tooltip="Moisturizers lock in hydration and strengthen the skin's protective barrier to keep skin supple and healthy.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/skin-smoothing-cream_600x600.jpg?v=1700067037" alt="Skin Smoothing Cream" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Skin Smoothing Cream</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Medium-weight moisturizer with Active HydraMesh Technology continuously hydrates skin for 48 hours.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Medium-weight moisturizer with Active HydraMesh Technology for 48-hour continuous hydration.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$65.00</span>
                  <button class="add-to-bag-btn" data-product="skin-smoothing-cream" data-price="65.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Protect -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">4</div>
            <h3 class="text-lg font-bold text-[--heading]">Protect</h3>
            <button class="tooltip-trigger" aria-label="About the Protect step" data-tooltip="SPF is the most important step in any routine. UV defense prevents premature aging, dark spots and skin damage.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/prisma-protect-spf30_600x600.jpg?v=1700067037" alt="Prisma Protect SPF 30" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Prisma Protect SPF 30</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Light-activated moisturizer with SPF 30 defends against UV and blue light while boosting luminosity.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Light-activated moisturizer with SPF 30 defends against UV and blue light while boosting luminosity.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$79.00</span>
                  <button class="add-to-bag-btn" data-product="prisma-protect-spf30" data-price="79.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Add All to Bag CTA -->
        <div class="flex flex-col sm:flex-row items-center justify-between gap-[--space-4] p-[--space-6] bg-[--card-header] rounded border border-[--border]">
          <div>
            <p class="text-base font-bold text-[--foreground]">Essential Routine — 4 Products</p>
            <p class="text-sm font-light text-[--muted-foreground]">Total: <span class="font-bold text-[--foreground]">$286.00</span></p>
          </div>
          <button class="add-all-btn" data-routine="essential">Add All to Bag</button>
        </div>
      </div>

      <!-- ═══════  ENHANCED PANEL  ═══════ -->
      <div role="tabpanel" id="panel-enhanced" aria-labelledby="tab-enhanced" class="routine-panel hidden">

        <!-- STEP: Double Cleanse -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">1</div>
            <h3 class="text-lg font-bold text-[--heading]">Double Cleanse</h3>
            <button class="tooltip-trigger" aria-label="About double cleansing" data-tooltip="Double cleansing uses an oil-based cleanser to dissolve makeup and SPF, followed by a water-based cleanser for a deep clean.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">2 Products</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/precleanse_600x600.jpg?v=1700067037" alt="PreCleanse" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">PreCleanse</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Deep-cleaning oil that melts away layers of excess sebum, sunscreen, waterproof makeup and environmental pollutants.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Deep-cleaning oil melts away layers of excess sebum, sunscreen, and waterproof makeup.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$49.00</span>
                  <button class="add-to-bag-btn" data-product="precleanse" data-price="49.00">Add to Bag</button>
                </div>
              </div>
            </div>
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/special-cleansing-gel_600x600.jpg?v=1700067037" alt="Special Cleansing Gel" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Special Cleansing Gel</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="A soap-free, foaming gel cleanser that lathers away toxins without disturbing the skin's natural moisture balance.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Soap-free foaming gel cleanser removes impurities without disturbing skin's natural moisture balance.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$46.00</span>
                  <button class="add-to-bag-btn" data-product="special-cleansing-gel" data-price="46.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Exfoliate -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">2</div>
            <h3 class="text-lg font-bold text-[--heading]">Exfoliate</h3>
            <button class="tooltip-trigger" aria-label="About the Exfoliate step" data-tooltip="Exfoliation removes dead cells that clog pores and dull skin, revealing a brighter, smoother complexion.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/daily-microfoliant_600x600.jpg?v=1700067037" alt="Daily Microfoliant" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Daily Microfoliant</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Rice-based enzyme powder activates upon contact with water to micro-exfoliate dulling debris for brighter, smoother skin.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Rice-based enzyme powder micro-exfoliates dulling debris for brighter, smoother skin.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$67.00</span>
                  <button class="add-to-bag-btn" data-product="daily-microfoliant" data-price="67.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Treat -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">3</div>
            <h3 class="text-lg font-bold text-[--heading]">Treat</h3>
            <button class="tooltip-trigger" aria-label="About the Treat step" data-tooltip="Targeted serums and treatments address specific skin concerns like fine lines, dark spots, and breakouts.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/biolumin-c-serum_600x600.jpg?v=1700067037" alt="BioLumin-C Serum" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">BioLumin-C Serum</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="A highly bioavailable Vitamin C serum that delivers dramatically brighter, firmer skin.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Highly bioavailable Vitamin C serum delivers dramatically brighter, firmer skin.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$96.00</span>
                  <button class="add-to-bag-btn" data-product="biolumin-c-serum" data-price="96.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Moisturize -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">4</div>
            <h3 class="text-lg font-bold text-[--heading]">Moisturize</h3>
            <button class="tooltip-trigger" aria-label="About the Moisturize step" data-tooltip="Moisturizers lock in hydration and strengthen the skin's protective barrier to keep skin supple and healthy.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/skin-smoothing-cream_600x600.jpg?v=1700067037" alt="Skin Smoothing Cream" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Skin Smoothing Cream</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Medium-weight moisturizer with Active HydraMesh Technology continuously hydrates skin for 48 hours.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Medium-weight moisturizer with Active HydraMesh Technology for 48-hour continuous hydration.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$65.00</span>
                  <button class="add-to-bag-btn" data-product="skin-smoothing-cream" data-price="65.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Protect -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">5</div>
            <h3 class="text-lg font-bold text-[--heading]">Protect</h3>
            <button class="tooltip-trigger" aria-label="About the Protect step" data-tooltip="SPF is the most important step in any routine. UV defense prevents premature aging, dark spots and skin damage.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/prisma-protect-spf30_600x600.jpg?v=1700067037" alt="Prisma Protect SPF 30" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Prisma Protect SPF 30</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Light-activated moisturizer with SPF 30 defends against UV and blue light while boosting luminosity.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Light-activated moisturizer with SPF 30 defends against UV and blue light while boosting luminosity.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$79.00</span>
                  <button class="add-to-bag-btn" data-product="prisma-protect-spf30" data-price="79.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Add All to Bag CTA -->
        <div class="flex flex-col sm:flex-row items-center justify-between gap-[--space-4] p-[--space-6] bg-[--card-header] rounded border border-[--border]">
          <div>
            <p class="text-base font-bold text-[--foreground]">Enhanced Routine — 6 Products</p>
            <p class="text-sm font-light text-[--muted-foreground]">Total: <span class="font-bold text-[--foreground]">$402.00</span></p>
          </div>
          <button class="add-all-btn" data-routine="enhanced">Add All to Bag</button>
        </div>
      </div>

      <!-- ═══════  COMPREHENSIVE PANEL  ═══════ -->
      <div role="tabpanel" id="panel-comprehensive" aria-labelledby="tab-comprehensive" class="routine-panel hidden">

        <!-- STEP: Double Cleanse -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">1</div>
            <h3 class="text-lg font-bold text-[--heading]">Double Cleanse</h3>
            <button class="tooltip-trigger" aria-label="About double cleansing" data-tooltip="Double cleansing uses an oil-based cleanser to dissolve makeup and SPF, followed by a water-based cleanser for a deep clean.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">2 Products</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/precleanse_600x600.jpg?v=1700067037" alt="PreCleanse" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">PreCleanse</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Deep-cleaning oil that melts away layers of excess sebum, sunscreen, waterproof makeup and environmental pollutants.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Deep-cleaning oil melts away layers of excess sebum, sunscreen, and waterproof makeup.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$49.00</span>
                  <button class="add-to-bag-btn" data-product="precleanse" data-price="49.00">Add to Bag</button>
                </div>
              </div>
            </div>
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/special-cleansing-gel_600x600.jpg?v=1700067037" alt="Special Cleansing Gel" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Special Cleansing Gel</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="A soap-free, foaming gel cleanser that lathers away toxins without disturbing the skin's natural moisture balance.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Soap-free foaming gel cleanser removes impurities without disturbing skin's natural moisture balance.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$46.00</span>
                  <button class="add-to-bag-btn" data-product="special-cleansing-gel" data-price="46.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Exfoliate -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">2</div>
            <h3 class="text-lg font-bold text-[--heading]">Exfoliate</h3>
            <button class="tooltip-trigger" aria-label="About the Exfoliate step" data-tooltip="Exfoliation removes dead cells that clog pores and dull skin, revealing a brighter, smoother complexion.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/daily-microfoliant_600x600.jpg?v=1700067037" alt="Daily Microfoliant" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Daily Microfoliant</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Rice-based enzyme powder activates upon contact with water to micro-exfoliate dulling debris for brighter, smoother skin.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Rice-based enzyme powder micro-exfoliates dulling debris for brighter, smoother skin.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$67.00</span>
                  <button class="add-to-bag-btn" data-product="daily-microfoliant" data-price="67.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Tone -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">3</div>
            <h3 class="text-lg font-bold text-[--heading]">Tone</h3>
            <button class="tooltip-trigger" aria-label="About the Tone step" data-tooltip="Toning rebalances skin pH after cleansing and preps the skin to absorb treatment products more effectively.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/multi-active-toner_600x600.jpg?v=1700067037" alt="Multi-Active Toner" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Multi-Active Toner</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Lightweight misting toner refreshes and hydrates the skin while smoothing and lightly firming.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Lightweight misting toner refreshes, hydrates, and smooths skin while lightly firming.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$43.00</span>
                  <button class="add-to-bag-btn" data-product="multi-active-toner" data-price="43.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Treat -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">4</div>
            <h3 class="text-lg font-bold text-[--heading]">Treat</h3>
            <button class="tooltip-trigger" aria-label="About the Treat step" data-tooltip="Targeted serums and treatments address specific skin concerns like fine lines, dark spots, and breakouts.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">2 Products</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/biolumin-c-serum_600x600.jpg?v=1700067037" alt="BioLumin-C Serum" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">BioLumin-C Serum</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="A highly bioavailable Vitamin C serum that delivers dramatically brighter, firmer skin.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Highly bioavailable Vitamin C serum delivers dramatically brighter, firmer skin.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$96.00</span>
                  <button class="add-to-bag-btn" data-product="biolumin-c-serum" data-price="96.00">Add to Bag</button>
                </div>
              </div>
            </div>
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/smart-response-serum_600x600.jpg?v=1700067037" alt="Smart Response Serum" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Smart Response Serum</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Intelligent serum adapts to your skin's unique needs using Ultra-Smart Drone Peptide technology.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Intelligent serum adapts to your skin's unique needs using Ultra-Smart Drone Peptide technology.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$115.00</span>
                  <button class="add-to-bag-btn" data-product="smart-response-serum" data-price="115.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Eye Care -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">5</div>
            <h3 class="text-lg font-bold text-[--heading]">Eye Care</h3>
            <button class="tooltip-trigger" aria-label="About the Eye Care step" data-tooltip="The delicate eye area needs specialized formulas to target dark circles, puffiness, and crow's feet.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/biolumin-c-eye-serum_600x600.jpg?v=1700067037" alt="BioLumin-C Eye Serum" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">BioLumin-C Eye Serum</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Vitamin C eye serum targets dark circles, puffiness and fine lines around the delicate eye area.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Vitamin C eye serum targets dark circles, puffiness and fine lines around the delicate eye area.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$72.00</span>
                  <button class="add-to-bag-btn" data-product="biolumin-c-eye-serum" data-price="72.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Moisturize -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">6</div>
            <h3 class="text-lg font-bold text-[--heading]">Moisturize</h3>
            <button class="tooltip-trigger" aria-label="About the Moisturize step" data-tooltip="Moisturizers lock in hydration and strengthen the skin's protective barrier to keep skin supple and healthy.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/skin-smoothing-cream_600x600.jpg?v=1700067037" alt="Skin Smoothing Cream" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Skin Smoothing Cream</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Medium-weight moisturizer with Active HydraMesh Technology continuously hydrates skin for 48 hours.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Medium-weight moisturizer with Active HydraMesh Technology for 48-hour continuous hydration.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$65.00</span>
                  <button class="add-to-bag-btn" data-product="skin-smoothing-cream" data-price="65.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STEP: Protect -->
        <div class="routine-step mb-[--space-8]">
          <div class="flex items-center gap-[--space-3] mb-[--space-2]">
            <div class="step-number">7</div>
            <h3 class="text-lg font-bold text-[--heading]">Protect</h3>
            <button class="tooltip-trigger" aria-label="About the Protect step" data-tooltip="SPF is the most important step in any routine. UV defense prevents premature aging, dark spots and skin damage.">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
            </button>
          </div>
          <div class="relative mb-[--space-4]">
            <div class="border-t border-[--border]"></div>
            <span class="product-count-badge">1 Product</span>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
            <div class="product-card">
              <div class="product-card-img">
                <img src="https://www.dermalogica.com/cdn/shop/files/prisma-protect-spf30_600x600.jpg?v=1700067037" alt="Prisma Protect SPF 30" loading="lazy" />
              </div>
              <div class="product-card-body">
                <div class="flex items-start justify-between gap-[--space-2]">
                  <h4 class="text-sm font-bold text-[--foreground] leading-tight">Prisma Protect SPF 30</h4>
                  <button class="tooltip-trigger flex-shrink-0" aria-label="Product info" data-tooltip="Light-activated moisturizer with SPF 30 defends against UV and blue light while boosting luminosity.">
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--muted-foreground)" stroke-width="1.2"/><text x="8" y="11.5" text-anchor="middle" font-size="10" font-weight="700" fill="var(--muted-foreground)">i</text></svg>
                  </button>
                </div>
                <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Light-activated moisturizer with SPF 30 defends against UV and blue light while boosting luminosity.</p>
                <div class="mt-auto pt-[--space-3] flex items-center justify-between">
                  <span class="text-sm font-bold text-[--foreground]">$79.00</span>
                  <button class="add-to-bag-btn" data-product="prisma-protect-spf30" data-price="79.00">Add to Bag</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Add All to Bag CTA -->
        <div class="flex flex-col sm:flex-row items-center justify-between gap-[--space-4] p-[--space-6] bg-[--card-header] rounded border border-[--border]">
          <div>
            <p class="text-base font-bold text-[--foreground]">Comprehensive Routine — 8 Products</p>
            <p class="text-sm font-light text-[--muted-foreground]">Total: <span class="font-bold text-[--foreground]">$652.00</span></p>
          </div>
          <button class="add-all-btn" data-routine="comprehensive">Add All to Bag</button>
        </div>
      </div>
    </section>

    <!-- ──────────  UPGRADE YOUR ROUTINE  ────────── -->
    <section class="mb-[--space-16]" aria-label="Upgrade your routine">
      <div class="flex items-center gap-[--space-3] mb-[--space-2]">
        <h2 class="text-xl font-bold text-[--heading]">Upgrade Your Routine</h2>
      </div>
      <p class="text-sm font-light text-[--muted-foreground] mb-[--space-6]">Boost your results with these targeted add-ons recommended for your skin profile.</p>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-[--space-4]">
        <!-- Upgrade card 1 -->
        <div class="product-card">
          <div class="product-card-img">
            <img src="https://www.dermalogica.com/cdn/shop/files/retinol-clearing-oil_600x600.jpg?v=1700067037" alt="Retinol Clearing Oil" loading="lazy" />
          </div>
          <div class="product-card-body">
            <h4 class="text-sm font-bold text-[--foreground] leading-tight">Retinol Clearing Oil</h4>
            <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Active retinoid combined with salicylic acid clears breakouts while reducing visible signs of skin aging.</p>
            <div class="mt-auto pt-[--space-3] flex items-center justify-between">
              <span class="text-sm font-bold text-[--foreground]">$92.00</span>
              <button class="add-to-bag-btn" data-product="retinol-clearing-oil" data-price="92.00">Add to Bag</button>
            </div>
          </div>
        </div>

        <!-- Upgrade card 2 -->
        <div class="product-card">
          <div class="product-card-img">
            <img src="https://www.dermalogica.com/cdn/shop/files/phyto-nature-firming-serum_600x600.jpg?v=1700067037" alt="Phyto Nature Firming Serum" loading="lazy" />
          </div>
          <div class="product-card-body">
            <h4 class="text-sm font-bold text-[--foreground] leading-tight">Phyto Nature Firming Serum</h4>
            <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Plant-powered serum with natural retinol alternative firms, nourishes and evens skin tone.</p>
            <div class="mt-auto pt-[--space-3] flex items-center justify-between">
              <span class="text-sm font-bold text-[--foreground]">$130.00</span>
              <button class="add-to-bag-btn" data-product="phyto-nature-firming-serum" data-price="130.00">Add to Bag</button>
            </div>
          </div>
        </div>

        <!-- Upgrade card 3 -->
        <div class="product-card">
          <div class="product-card-img">
            <img src="https://www.dermalogica.com/cdn/shop/files/stabilizing-repair-cream_600x600.jpg?v=1700067037" alt="Stabilizing Repair Cream" loading="lazy" />
          </div>
          <div class="product-card-body">
            <h4 class="text-sm font-bold text-[--foreground] leading-tight">Stabilizing Repair Cream</h4>
            <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Intensive moisturizer helps strengthen compromised skin barrier and calm stressed or reactive skin.</p>
            <div class="mt-auto pt-[--space-3] flex items-center justify-between">
              <span class="text-sm font-bold text-[--foreground]">$68.00</span>
              <button class="add-to-bag-btn" data-product="stabilizing-repair-cream" data-price="68.00">Add to Bag</button>
            </div>
          </div>
        </div>

        <!-- Upgrade card 4 -->
        <div class="product-card">
          <div class="product-card-img">
            <img src="https://www.dermalogica.com/cdn/shop/files/dynamic-skin-recovery-spf50_600x600.jpg?v=1700067037" alt="Dynamic Skin Recovery SPF 50" loading="lazy" />
          </div>
          <div class="product-card-body">
            <h4 class="text-sm font-bold text-[--foreground] leading-tight">Dynamic Skin Recovery SPF 50</h4>
            <p class="text-xs font-light text-[--muted-foreground] mt-[--space-1] line-clamp-2">Firming, anti-aging moisturizer with broad-spectrum SPF 50 for medium-weight UV defense and treatment.</p>
            <div class="mt-auto pt-[--space-3] flex items-center justify-between">
              <span class="text-sm font-bold text-[--foreground]">$89.00</span>
              <button class="add-to-bag-btn" data-product="dynamic-skin-recovery-spf50" data-price="89.00">Add to Bag</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ──────────  PROFESSIONAL TREATMENTS  ────────── -->
    <section class="mb-[--space-16]" aria-label="Professional treatments">
      <h2 class="text-xl font-bold text-[--heading] mb-[--space-2]">Recommended Professional Treatments</h2>
      <p class="text-sm font-light text-[--muted-foreground] mb-[--space-6]">Maximize your results with in-salon treatments from a Dermalogica skin therapist.</p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-[--space-4]">
        <!-- Treatment card 1 -->
        <div class="bg-[--card] rounded border border-[--border] shadow-sm overflow-hidden flex flex-col sm:flex-row">
          <div class="sm:w-[200px] h-[160px] sm:h-auto bg-[--card-header] flex items-center justify-center flex-shrink-0">
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
              <circle cx="24" cy="24" r="20" stroke="var(--primary)" stroke-width="1.5" fill="none"/>
              <path d="M24 14v10l6 6" stroke="var(--primary)" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </div>
          <div class="p-[--space-6] flex flex-col">
            <h3 class="text-base font-bold text-[--foreground] mb-[--space-1]">ProSkin 60</h3>
            <p class="text-xs font-light text-[--muted-foreground] mb-[--space-3]">A customized 60-minute professional treatment combining Face Mapping skin analysis with tailored techniques addressing your specific concerns.</p>
            <a href="#" class="text-xs font-bold text-[--primary] uppercase tracking-[0.08em] hover:underline mt-auto">Find a Therapist</a>
          </div>
        </div>

        <!-- Treatment card 2 -->
        <div class="bg-[--card] rounded border border-[--border] shadow-sm overflow-hidden flex flex-col sm:flex-row">
          <div class="sm:w-[200px] h-[160px] sm:h-auto bg-[--card-header] flex items-center justify-center flex-shrink-0">
            <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
              <circle cx="24" cy="24" r="20" stroke="var(--primary)" stroke-width="1.5" fill="none"/>
              <path d="M18 20c0-3.3 2.7-6 6-6s6 2.7 6 6c0 6-6 10-6 14 0-4-6-8-6-14z" stroke="var(--primary)" stroke-width="1.5" fill="none"/>
            </svg>
          </div>
          <div class="p-[--space-6] flex flex-col">
            <h3 class="text-base font-bold text-[--foreground] mb-[--space-1]">BioLumin-C Peel</h3>
            <p class="text-xs font-light text-[--muted-foreground] mb-[--space-3]">A professional-grade Vitamin C treatment that targets dullness, uneven tone, and loss of firmness for visible brightening results.</p>
            <a href="#" class="text-xs font-bold text-[--primary] uppercase tracking-[0.08em] hover:underline mt-auto">Find a Therapist</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ──────────  FEATURED ARTICLE  ────────── -->
    <section class="mb-[--space-16]" aria-label="Featured article">
      <div class="bg-[--card] rounded border border-[--border] shadow-sm overflow-hidden flex flex-col md:flex-row">
        <div class="md:w-[45%] h-[200px] md:h-auto bg-[--card-header] flex items-center justify-center flex-shrink-0">
          <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
            <rect x="8" y="12" width="48" height="40" rx="4" stroke="var(--primary)" stroke-width="1.5" fill="none"/>
            <line x1="16" y1="24" x2="48" y2="24" stroke="var(--primary)" stroke-width="1.5"/>
            <line x1="16" y1="32" x2="40" y2="32" stroke="var(--primary)" stroke-width="1.5"/>
            <line x1="16" y1="40" x2="36" y2="40" stroke="var(--primary)" stroke-width="1.5"/>
          </svg>
        </div>
        <div class="p-[--space-8] flex flex-col justify-center">
          <p class="text-xs font-normal uppercase tracking-[0.12em] text-[--muted-foreground] mb-[--space-2]">Skin Tips</p>
          <h2 class="text-lg font-bold text-[--heading] mb-[--space-3]">How to Build a Skincare Routine That Works</h2>
          <p class="text-sm font-light text-[--muted-foreground] mb-[--space-4]">Learn the fundamentals of layering products in the correct order, why ingredient synergy matters, and how to adjust your routine with the seasons.</p>
          <a href="#" class="text-xs font-bold text-[--primary] uppercase tracking-[0.08em] hover:underline">Read Article</a>
        </div>
      </div>
    </section>

  </main>

  <!-- ============================  FOOTER  ============================ -->
  <footer class="border-t border-[--border] bg-[--background]">
    <div class="max-w-[1280px] mx-auto px-[--space-6] py-[--space-10]">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-[--space-8] mb-[--space-8]">
        <div>
          <h4 class="text-xs font-bold uppercase tracking-[0.08em] text-[--heading] mb-[--space-3]">Shop</h4>
          <ul class="flex flex-col gap-[--space-2]">
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Best Sellers</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">New Arrivals</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Kits &amp; Sets</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Gift Cards</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-xs font-bold uppercase tracking-[0.08em] text-[--heading] mb-[--space-3]">Learn</h4>
          <ul class="flex flex-col gap-[--space-2]">
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Skin Concerns</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Ingredients</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Blog</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Face Mapping</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-xs font-bold uppercase tracking-[0.08em] text-[--heading] mb-[--space-3]">Professional</h4>
          <ul class="flex flex-col gap-[--space-2]">
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Find a Therapist</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Pro Login</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Education</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-xs font-bold uppercase tracking-[0.08em] text-[--heading] mb-[--space-3]">Support</h4>
          <ul class="flex flex-col gap-[--space-2]">
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Contact Us</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">FAQs</a></li>
            <li><a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Shipping &amp; Returns</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-[--border] pt-[--space-6] flex flex-col sm:flex-row items-center justify-between gap-[--space-4]">
        <p class="text-xs font-light text-[--muted-foreground]">&copy; 2026 Dermalogica. All rights reserved.</p>
        <div class="flex items-center gap-[--space-4]">
          <a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Privacy</a>
          <a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Terms</a>
          <a href="#" class="text-xs font-light text-[--muted-foreground] hover:text-[--foreground]">Accessibility</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- ============================  TOAST NOTIFICATION  ============================ -->
  <div id="toast" class="fixed bottom-[--space-6] right-[--space-6] z-[100] hidden">
    <div class="bg-[--foreground] text-[--background] px-[--space-6] py-[--space-3] rounded shadow-lg text-sm font-normal flex items-center gap-[--space-3]">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="7" stroke="var(--success)" stroke-width="1.5"/><path d="M5 8l2 2 4-4" stroke="var(--success)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <span id="toast-message">Added to bag</span>
    </div>
  </div>

  <!-- Scripts -->
  <script src="app.js"></script>
</body>
</html>
